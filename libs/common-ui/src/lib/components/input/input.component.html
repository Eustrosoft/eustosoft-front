<!--
  ~ Copyright (c) 2023. IdrisovII & EustroSoft.org
  ~
  ~ This file is part of eustrosoft-front project.
  ~ See the LICENSE file at the project root for licensing information.
  -->

<mat-form-field
  [appearance]="fieldAppearance"
  [class.hide-subscript-wrapper]="hideSubscriptWrapper"
  class="w-100"
>
  <mat-label>{{ label }}</mat-label>
  <input
    [formControl]="control"
    [placeholder]="placeholder"
    [type]="inputType"
    [attr.disabled]="disabled"
    [value]="control.value"
    (blur)="blurred.emit($event)"
    matInput
  />
  <mat-icon matSuffix>{{ suffixIcon }}</mat-icon>
  <!--TODO Понять как увеличивать высоту компонента при большом количестве ошибок-->
  <mat-error *ngIf="control.touched && control.errors">
    <ng-container *ngFor="let error of errors">
      <ng-container *ngIf="control.hasError(error.errorCode)">
        <span>{{ error.message }}</span> <br />
      </ng-container>
    </ng-container>
  </mat-error>
</mat-form-field>
