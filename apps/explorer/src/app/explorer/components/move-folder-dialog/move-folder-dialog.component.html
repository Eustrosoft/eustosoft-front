<div class="container">
  <div class="row gx-3 pt-2 align-items-center">
    <div class="col-2 w-auto">
      <eustrosoft-front-button
        [buttonType]="'button'"
        [buttonStyleType]="'icon'"
        [iconName]="'navigate_before'"
        (click)="navigateBack()"
      >
      </eustrosoft-front-button>
    </div>
    <div class="col-10">
      <h1 class="m-0 p-0 d-flex align-items-center" mat-dialog-title>
        <span>Move to</span>
      </h1>
    </div>
  </div>
  <div class="row">
    <div class="py-2 d-flex flex-column" mat-dialog-content>
      <cdk-virtual-scroll-viewport itemSize="5" class="vh-25 vw-50">
        <mat-selection-list
          [multiple]="false"
          [hideSingleSelectionIndicator]="true"
          #list
        >
          <mat-list-option
            *ngFor="let object of fsObjects$ | async"
            [value]="object"
          >
            <div class="d-flex justify-content-between">
              <div class="d-flex align-items-center lh-1">
                <ng-container [ngSwitch]="object.type">
                  <div *ngSwitchCase="fsObjTypes.DIRECTORY">
                    <mat-icon>folder</mat-icon>
                  </div>
                  <div *ngSwitchCase="fsObjTypes.FILE">
                    <mat-icon>draft</mat-icon>
                  </div>
                </ng-container>
                <span>{{ object.fileName }}</span>
              </div>
              <eustrosoft-front-button
                [buttonType]="'button'"
                [buttonStyleType]="'icon'"
                [iconName]="'navigate_next'"
                (click)="navigateForward($event, object)"
              >
              </eustrosoft-front-button>
            </div>
          </mat-list-option>
        </mat-selection-list>
      </cdk-virtual-scroll-viewport>
    </div>
  </div>
  <div class="row">
    <div mat-dialog-actions>
      <eustrosoft-front-button
        [buttonType]="'button'"
        [buttonStyleType]="'flat'"
        [buttonText]="'Cancel'"
        (click)="close()"
        class="col-6"
      >
      </eustrosoft-front-button>
      <eustrosoft-front-button
        [buttonType]="'button'"
        [buttonStyleType]="'flat'"
        [buttonText]="'Move'"
        [color]="'primary'"
        [disabled]="!list.selectedOptions.hasValue()"
        [mat-dialog-close]="
          list.selectedOptions.hasValue() &&
          list.selectedOptions.selected[0].value
        "
        class="col-6"
      >
      </eustrosoft-front-button>
    </div>
  </div>
</div>
