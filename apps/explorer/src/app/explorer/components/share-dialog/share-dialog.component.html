<!--
  ~ Copyright (c) 2023-2024. IdrisovII & EustroSoft.org
  ~
  ~ This file is part of eustrosoft-front project.
  ~ See the LICENSE file at the project root for licensing information.
  -->

<div class="flex flex-column g-3">
  <h1 class="m-0 px-3 pb-0" mat-dialog-title>
    {{ 'EXPLORER.SHARE_DIALOG.TITLE' | translate }}
  </h1>
  <ng-container
    *ngIf="{
      shareLink: data.shareLinkObs$ | async,
      shareOWikiLink: data.shareOWikiLinkObs$ | async
    } as vm"
  >
    <div class="flex flex-column g-3 px-3 py-0">
      <ng-container *ngIf="vm.shareOWikiLink as shareOWikiLink">
        <div class="flex align-items-center g-3 py-0">
          <mat-form-field
            [appearance]="'outline'"
            [subscriptSizing]="'dynamic'"
            class="flex-auto"
          >
            <mat-label>
              {{
                'EXPLORER.SHARE_DIALOG.SHARE_OWIKI_INPUT_LABEL_TEXT' | translate
              }}
            </mat-label>
            <input [value]="shareOWikiLink" matInput />
          </mat-form-field>
          <button
            mat-flat-button
            type="button"
            [color]="'primary'"
            (click)="shareOWikiUrlCopied.emit(shareOWikiLink)"
          >
            {{ 'EXPLORER.SHARE_DIALOG.COPY_BUTTON_TEXT' | translate }}
          </button>
        </div>
      </ng-container>
      <ng-container *ngIf="vm.shareLink as shareLink">
        <div class="flex align-items-center g-3 py-0">
          <mat-form-field
            [appearance]="'outline'"
            [subscriptSizing]="'dynamic'"
            class="flex-auto"
          >
            <mat-label>
              {{ 'EXPLORER.SHARE_DIALOG.SHARE_INPUT_LABEL_TEXT' | translate }}
            </mat-label>
            <input [value]="shareLink" matInput />
          </mat-form-field>
          <button
            mat-flat-button
            type="button"
            [color]="'primary'"
            (click)="shareUrlCopied.emit(shareLink)"
          >
            {{ 'EXPLORER.SHARE_DIALOG.COPY_BUTTON_TEXT' | translate }}
          </button>
        </div>
      </ng-container>
    </div>
  </ng-container>
  <div class="flex g-2 px-3 pb-3 pt-0" [align]="'end'" mat-dialog-actions>
    <button mat-flat-button type="button" (click)="reject()">
      {{ 'EXPLORER.SHARE_DIALOG.CLOSE_BUTTON_TEXT' | translate }}
    </button>
  </div>
</div>
